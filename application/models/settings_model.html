<?php


class Settings_model extends MY_Model {


	

	public function __construct()
	{
		$this->load->database();
	
	}

	public function get_company_info() {

		$query = $this->db->get_where('Company', array('id' => 1));
		return $query->row_array();


	}
	

	public function update_company_info() {

		$this->load->helper('url');

		$data = array(
			'Name' => $this->input->post('company_name'),
			'Street1' => $this->input->post('company_street1'),
			'Street2' => $this->input->post('company_street2'),
			'City' => $this->input->post('company_city'),
			'State' => $this->input->post('company_state'),
			'Zip' => $this->input->post('company_zip'),
			'Country' => $this->input->post('company_country'),
			'Phone' => $this->input->post('company_phone'),
			'VATCode' => $this->input->post('company_vatcode')
		);

		$this->db->where('id', 1);
		$this->db->update('Company', $data);


	}

	public function update_company_info_with_logo($path) {

		$this->load->helper('url');

		$data = array(
			'Name' => $this->input->post('company_name'),
			'Street1' => $this->input->post('company_street1'),
			'Street2' => $this->input->post('company_street2'),
			'City' => $this->input->post('company_city'),
			'State' => $this->input->post('company_state'),
			'Zip' => $this->input->post('company_zip'),
			'Country' => $this->input->post('company_country'),
			'Phone' => $this->input->post('company_phone'),
			'VATCode' => $this->input->post('company_vatcode'),
			'ImagePath' => $path
		);

		$this->db->where('id', 1);
		$this->db->update('Company', $data);


	}
		
	
	
}